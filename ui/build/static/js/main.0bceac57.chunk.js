(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{328:function(e,t,a){},455:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),o=a.n(c),s=(a(328),a(539)),i=a(538),d=a(38),u=a(510),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("user"),r=a?JSON.parse(a).api_token:null;t||(t={}),t.headers||(t.headers=new Headers);t.headers.get("Content-Type");return t.headers.set("Accept","application/json"),t.headers.set("Authorization","Bearer "+r),l(e,t)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.headers||new Headers({Accept:"application/json"});return a.has("Content-Type")||t&&t.body&&t.body instanceof FormData||a.set("Content-Type","application/json"),t.user&&t.user.authenticated&&t.user.token&&a.set("Authorization",t.user.token),fetch(e,Object(d.a)(Object(d.a)({},t),{},{headers:a})).then((function(e){return e.text().then((function(t){return{status:e.status,statusText:e.statusText,headers:e.headers,body:t}}))})).then((function(e){var t,a,r=e.status,n=e.statusText,c=e.headers,o=e.body;try{t=JSON.parse(o)}catch(s){}return r<200||r>=300?(t&&t.errors?a=t.errors[Object.keys(t.errors)[0]][0]:t&&t.message&&(a=t.message),Promise.reject(new u.a(a||n,r,t))):Promise.resolve({status:r,headers:c,body:o,json:t})}))},b=a(108),f="http://localhost:3000/api",O={getList:function(e,t){var a=t.pagination,r=a.page,n=a.perPage,c=t.sort,o=c.field,s=c.order,i=Object(d.a)({},t.filter),u=Object(d.a)({},t);delete u.filter,delete u.sort,delete u.pagination;var l=Object(d.a)({sortBy:"".concat(o||"createdAt",":").concat(s.toLowerCase()),page:r||1,limit:n||10},u);for(var O in i)if(""!=i[O]&&i[O])if(i[O].constructor===Array)for(var p=0;p<i[O].length;p++)l["filter["+O+"]["+p+"]"]=i[O][p];else l["filter["+O+"]"]=i[O];var h="".concat(f,"/").concat(e,"?").concat(Object(b.stringify)(l));return j(h).then((function(e){e.headers;var t=e.json;return{data:t.data,total:t.total}}))},getOne:function(e,t){var a="".concat(f,"/").concat(e,"/").concat(t.id);return a=t.endpointExt?a+"/"+t.endpointExt:a,t.params&&(a=a+"?"+Object(b.stringify)(t.params)),j(a).then((function(e){return{data:e.json}}))},getMany:function(e,t){for(var a={sortBy:"createdAt:desc",limit:25},r=0;r<t.ids.length;r++)a["filter[id]["+r+"]"]=t.ids[r];var n="".concat(f,"/").concat(e,"?").concat(Object(b.stringify)(a));return j(n).then((function(e){return{data:e.json.data}}))},getManyReference:function(e,t){var a=t.pagination,r=a.page,n=a.perPage,c=t.sort,o=c.field,s=c.order,i=Object(d.a)({},t.filter);i[t.target]=t.id;var u={sortBy:"".concat(o||"createdAt",":").concat(s.toLowerCase()),page:r||1,limit:n||10};for(var l in i)if(i[l].constructor===Array)for(var O=0;O<i[l].length;O++)u["filter["+l+"]["+O+"]"]=i[l][O];else u["filter["+l+"]"]=i[l];var p="".concat(f,"/").concat(e,"?").concat(Object(b.stringify)(u));return j(p).then((function(e){e.headers;var t=e.json;return{data:t.data,total:t.total}}))},update:function(e,t){"".concat(f,"/").concat(e,"/").concat(t.id),new FormData;return j("".concat(f,"/").concat(e,"/").concat(t.id),{method:"PUT",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))},updateMany:function(e,t){var a={filter:JSON.stringify({id:t.ids})};return j("".concat(f,"/").concat(e,"?").concat(Object(b.stringify)(a)),{method:"PUT",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))},create:function(e,t){"".concat(f,"/").concat(e),new FormData;return j("".concat(f,"/").concat(e),{method:"POST",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))},delete:function(e,t){return j("".concat(f,"/").concat(e,"/").concat(t.id),{method:"DELETE"}).then((function(e){return{data:e.json}}))},deleteMany:function(e,t){var a="".concat(f,"/").concat(e,"/").concat(encodeURIComponent(JSON.stringify(t.ids)));return j(a,{method:"DELETE"}).then((function(e){return{data:e.json}}))}},p=a(547),h=a(546),y=a(540),x=a(541),g=a(528),m=a(529),v=a(530),T=a(531),E=a(532),R=a(543),A=a(542),S=a(536),w=a(545),B=a(537),I=a(262),P=a.n(I),C=a(10),L=P.a,D=function(e){return Object(C.jsx)(p.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(C.jsx)(h.a,{source:"state",choices:[{id:"OPEN",name:"Open"},{id:"BLOCKED",name:"Blocked"},{id:"RESOLVED",name:"Resolved"}],alwaysOn:!0})}))},k=function(e){return Object(C.jsx)(y.a,Object(d.a)(Object(d.a)({title:"Reports"},e),{},{filters:Object(C.jsx)(D,{}),bulkActionButtons:!1,children:Object(C.jsxs)(x.a,{children:[Object(C.jsx)(g.a,{source:"id"}),Object(C.jsx)(g.a,{source:"state"}),Object(C.jsx)(g.a,{source:"source"}),Object(C.jsx)(g.a,{source:"payload.reportType",label:"Type",sortable:!1}),Object(C.jsx)(m.a,{label:"Reference",render:function(e){var t=e.reference;return Object(C.jsx)("span",{label:t.referenceId,children:t.referenceType})}}),Object(C.jsx)(m.a,{label:"Resource",render:function(e){var t=e.payload;return Object(C.jsx)("span",{label:t.referenceResourceId,children:t.referenceResourceType})}}),Object(C.jsx)(g.a,{source:"payload.message",label:"Message",sortable:!1}),Object(C.jsx)(v.a,{source:"createdAt"}),Object(C.jsx)(T.a,{}),Object(C.jsx)(E.a,{})]})}))},J=function(e){return Object(C.jsx)(R.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(C.jsxs)(A.a,{children:[Object(C.jsx)(S.a,{disabled:!0,source:"id"}),Object(C.jsx)(h.a,{source:"state",choices:[{id:"OPEN",name:"Open"},{id:"BLOCKED",name:"Blocked"},{id:"RESOLVED",name:"Resolved"}]})]})}))},N=function(e){return Object(C.jsx)(w.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(C.jsxs)(B.a,{children:[Object(C.jsx)(g.a,{source:"id"}),Object(C.jsx)(g.a,{source:"state"}),Object(C.jsx)(g.a,{source:"source"}),Object(C.jsx)(g.a,{source:"sourceIdentityId"}),Object(C.jsx)(g.a,{source:"reference.referenceId",label:"Reference id"}),Object(C.jsx)(g.a,{source:"reference.referenceType",label:"Reference type"}),Object(C.jsx)(g.a,{source:"payload.source"}),Object(C.jsx)(g.a,{source:"payload.reportType"}),Object(C.jsx)(g.a,{source:"payload.message"}),Object(C.jsx)(g.a,{source:"payload.reportId"}),Object(C.jsx)(g.a,{source:"payload.referenceResourceId"}),Object(C.jsx)(g.a,{source:"payload.referenceResourceType"}),Object(C.jsx)(g.a,{source:"payload.reportType",label:"Type"}),Object(C.jsx)(v.a,{source:"createdAt"}),Object(C.jsx)(v.a,{source:"updatedAt"})]})}))},F=a(37).createBrowserHistory(),M=function(){return Object(C.jsx)(s.a,{title:"Report manager UI",dataProvider:O,history:F,children:Object(C.jsx)(i.a,{name:"reports",options:{label:"Reports"},list:k,edit:J,show:N,icon:L})})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,553)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),c(e),o(e)}))};o.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(M,{})}),document.getElementById("root")),U()}},[[455,1,2]]]);
//# sourceMappingURL=main.0bceac57.chunk.js.map